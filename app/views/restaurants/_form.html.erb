<%= form_for(@restaurant, html: { class: "form-horizontal" }) do |f| %>

<fieldset>

  <div class="row-fluid">

    <div class="span5">

      <div class="control-group">
        <%= f.label :name,"Search Restaurant", class: "control-label" %>
      <div class="controls">
        <%= text_field_tag :restaurant_search, nil, class: "span12", type: "search" %>
      </div>
    </div>

      <div class="control-group">
        <%= f.label :name, class: "control-label" %>
        <div class="controls">
          <%= f.text_field :name, class: "span12" %>
        </div>
      </div>
    <div class="control-group">
        <%= f.label :address, class: "control-label" %>
        <div class="controls">
          <%= f.text_field :address, class: "span12" %>
        </div>
      </div>
        <div class="controls">
          <%= f.hidden_field :phone_number, class: "span12" %>
        </div>
        <div class="controls">
          <%= f.hidden_field :district, class: "span12" %>
        </div>
        <div class="controls">
          <%= f.hidden_field :postcode, class: "span12" %>
        </div>
        <div class="controls">
          <%= f.hidden_field :city, class: "span12" %>
        </div>
        <div class="controls">
          <%= f.hidden_field :country, class: "span12" %>
        </div>
        <div class="controls">
          <%= f.hidden_field :lat, class: "span12" %>
        </div>
        <div class="controls">
          <%= f.hidden_field :lng, class: "span12" %>
        </div>
<div class=”field”>

<%= f.fields_for :dish do |ts| %>
  <div class="form-inline"><br>
    <%= ts.label :dish_id, "Dish:", class: "span2" %>
    <%= ts.collection_select :dish_id, Dish.all, :id, :category %>
  </div>
<% end %>


  <%= f.fields_for :meal do |ts| %>
        <br>
          <%= ts.label :meal_rating, "Rating:", class: "span2" %>
          <%= ts.radio_button :meal_rating, "1", class: "star" %>
          <%= ts.radio_button :meal_rating, "2", class: "star" %>
          <%= ts.radio_button :meal_rating, "3", class: "star" %>
          <%= ts.radio_button :meal_rating, "4", class: "star" %>
          <%= ts.radio_button :meal_rating, "5", class: "star" %>
        <br>
          <div class="form-inline"><br>
        <%= ts.label :review, "Review:", class: "span2" %>
        <%= ts.text_area :review, placeholder: 'Write your review here', rows: "3"  %>
      </div>
      <div class="form-inline"><br>
        <%= ts.label :picture, "Picture:", class: "span2"%>
        <%= ts.file_field :picture %>
        <%= ts.hidden_field :picture_cache %>
      </div>
  <% end %>

      <div class="control-group">
        <%= f.submit "Add Restaurant", class: 'btn' %>
      </div>

    <div class="span7">
      <% if @restaurant.errors.any? %>
        <div class="notice">
          <h3>Errors</h3>
          <ul>
          <% @restaurant.errors.full_messages.each do |msg| %>
            <li class="error"><%= msg %></li>
          <% end %>
          </ul>
        </div>
      <% end %>
     </div>
<!-- The googlemap partial below autocompletes the search and fills in the text-fields -->
      <%= render partial: "googlemap" %>
    </div>
  </div>

</fieldset>
<% end %>



