<div id="map" style="width: 100%; height: 360px"></div>

<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCa0dzvBQBFQNVm363M9QJ5IFb1J23ro6&amp;sensor=true&amp;libraries=places" type="text/javascript"></script>

<script type="text/javascript"> 
<!--
  var defaultZoom = 17;

  var lat = <%= @restaurant.lat %>;
  var lng = <%= @restaurant.lng %>;

  var mapOptions = {
    center: new google.maps.LatLng(lat, lng),
    zoom: defaultZoom,
    mapTypeId: google.maps.MapTypeId.ROADMAP,
    scrollwheel: false,
    scaleControl: false
  };
  var map = new google.maps.Map(document.getElementById('map'),mapOptions);

  var mylat = document.getElementById("restaurant_lat").value;
  var mylng = document.getElementById("restaurant_lng").value;
  if (jQuery.isEmptyObject(mylat)) {
    var mylat = lat;
    var mylng = lng;
  };

  var centrePoint = new google.maps.LatLng(mylat, mylng);

  map.setCenter(centrePoint);
  map.setZoom(defaultZoom);

  marker = new google.maps.Marker({
    map:map,
    draggable: false,
    animation: google.maps.Animation.DROP,
    position: centrePoint
  });

  var defaultImage = new google.maps.MarkerImage(
      "http://maps.gstatic.com/mapfiles/place_api/icons/geocode-71.png",
      new google.maps.Size(71, 71),
      new google.maps.Point(0, 0),
      new google.maps.Point(17, 34),
      new google.maps.Size(35, 35)
  );
  marker.setIcon(defaultImage);

//-->
</script>

<br />