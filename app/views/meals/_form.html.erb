<%= form_for(@meal, html: { class: "form-horizontal" }) do |f| %>

<fieldset>

  <div class="row-fluid">

    <div class="span5">

      <div class="control-group">
        <%= f.label :name,"Search Restaurant", class: "control-label" %>
      <div class="controls">
        <%= text_field_tag :restaurant_search, nil, class: "span12", type: "search" %>
      </div>
    </div>

  <%= f.fields_for :restaurant do |ts| %>
      <div class="control-group">
        <%= ts.label :name, class: "control-label" %>
        <div class="controls">
          <%= ts.text_field :restaurant_name, class: "span12" %>
        </div>
      </div>
    <div class="control-group">
        <%= ts.label :address, class: "control-label" %>
        <div class="controls">
          <%= ts.text_field :restaurant_address, class: "span12" %>
        </div>
      </div>
        <div class="controls">
          <%= ts.hidden_field :restaurant_phone_number, class: "span12" %>
        </div>
        <div class="controls">
          <%= ts.hidden_field :restaurant_district, class: "span12" %>
        </div>
        <div class="controls">
          <%= ts.hidden_field :restaurant_postcode, class: "span12" %>
        </div>
        <div class="controls">
          <%= ts.hidden_field :restaurant_city, class: "span12" %>
        </div>
        <div class="controls">
          <%= ts.hidden_field :restaurant_country, class: "span12" %>
        </div>
        <div class="controls">
          <%= ts.hidden_field :restaurant_lat, class: "span12" %>
        </div>
        <div class="controls">
          <%= ts.hidden_field :restaurant_lng, class: "span12" %>
        </div>
  <% end %>

<div class=”field”>

<%= f.fields_for :dish do |ts| %>
  <div class="form-inline"><br>
    <%= ts.label :dish_id, "Dish:", class: "span2" %>
    <%= ts.collection_select :dish_id, Dish.all, :id, :category %>
  </div>
<% end %>

        <br>
          <%= f.label :rating, "Rating:", class: "span2" %>
          <%= f.radio_button :rating, "1", class: "star" %>
          <%= f.radio_button :rating, "2", class: "star" %>
          <%= f.radio_button :rating, "3", class: "star" %>
          <%= f.radio_button :rating, "4", class: "star" %>
          <%= f.radio_button :rating, "5", class: "star" %>
        <br>
          <div class="form-inline"><br>
        <%= f.label :review, "Review:", class: "span2" %>
        <%= f.text_area :review, placeholder: 'Write your review here', rows: "3"  %>
      </div>
      <div class="form-inline"><br>
        <%= f.label :picture, "Picture:", class: "span2"%>
        <%= f.file_field :picture %>
        <%= f.hidden_field :picture_cache %>
      </div>

      <div class="control-group">
        <%= f.submit "Create Review", class: 'btn' %>
      </div>

    <div class="span7">
      <% if @meal.errors.any? %>
        <div class="notice">
          <h3>Errors</h3>
          <ul>
          <% @meal.errors.full_messages.each do |msg| %>
            <li class="error"><%= msg %></li>
          <% end %>
          </ul>
        </div>
      <% end %>
     </div>
<!-- The googlemap partial below autocompletes the search and fills in the text-fields -->
      <%= render partial: "googlemap" %>
    </div>
  </div>

</fieldset>
<% end %>
